<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

	
		
	
		<f:event listener="#{testController.init}" type="preRenderView" />

		<!-- custom menubar -->
		<p:outputPanel id="menuBar">
			<!-- Logo, Name und StartButton -->
			<p:outputPanel id="appLogo">
				<p:graphicImage library="images" name="logo.png" height="100px" />
			</p:outputPanel>
			<p:outputPanel id="appTitle">
				<h:outputText value="MyApp Plattform" />
			</p:outputPanel>
			<p:outputPanel>
				<p:outputPanel id="homeItem" styleClass="rpfMenuItem">
					<p:commandLink>
						<i class="fa fa-home" /> Startseite
					</p:commandLink>
				</p:outputPanel>
			</p:outputPanel>
			<!-- Generierte MenÃ¼punkte aus der DB -->
			<ui:repeat id="menu" value="#{menuView.menuModel.elements}"
				var="menuModel" varStatus="status">
				<p:outputPanel id="menuItemWrapper">
					<p:outputPanel id="menuItem" styleClass="rpfMenuItem">
						<p:commandLink id="rootLink" value="#{menuModel.label}"/>
					</p:outputPanel>
					<p:outputPanel id="menuPanel" styleClass="menuOverlayLevel1">
						<ui:include name="#{menuModel.label}" src="menuPanel.xhtml">
							<ui:param name="menuItem" value="#{menuModel}" />
						</ui:include>
					</p:outputPanel>
				</p:outputPanel>
			</ui:repeat>
			<!-- zusÃ¤tliche Menupunkte -->
			<p:outputPanel>
				<p:outputPanel id="userItem" styleClass="rpfMenuItem">
					<p:commandLink>
						<i class="fa fa-user-circle-o" />
					</p:commandLink>
				</p:outputPanel>
			</p:outputPanel>
			<p:outputPanel>
				<p:outputPanel id="infoItem" styleClass="rpfMenuItem">
					<p:commandLink>
						<i class="fa fa-info-circle" />
					</p:commandLink>
				</p:outputPanel>
			</p:outputPanel>
			<p:outputPanel>
				<p:outputPanel id="logoutItem" styleClass="rpfMenuItem">
					<p:commandLink>
						<i class="fa fa-sign-out" />
					</p:commandLink>
				</p:outputPanel>
			</p:outputPanel>
		</p:outputPanel>
		
		<h:outputScript name="js/menubar.js"/>
	
</ui:composition>